agent: dreamerv3
seed: 42

env:
  name: Craftax-Classic-Pixels-v1
  auto_reset: true

dreamerv3:
  num_updates: 100
  num_worlds: 8
  rollout_length: 128
  batch_size: 16
  num_grad_steps: 4
  replay_length: 8
  batch_length: 64
  imag_horizon: 16
  imag_last_states: 16
  gamma: 0.99
  lam: 0.95
  max_grad_norm: 2.5
  lr: 2e-2
  weight_decay: 1e-2

  ret_norm:
    tau: 0.99
    low_quantile: 0.05
    high_quantile: 0.95
    low_init: 0.0
    high_init: 0.0
    min_scale: 1.0

  loss:
    dec_obs: 1.0
    dec_reward: 1.0
    dec_cont: 1.0
    dyn: 1.0
    rep: 0.1
    actor: 1.0
    critic_rollout: 0.3
    critic_imag: 1.0
    entropy: 3e-4
    free_nats: 1.0

  replay_buffer:
    max_length: 4096

  dynamics:
    deter_size: 1024
    hidden_size: 256
    num_layers: 1
    blocks: 8
    stoch: 32
    classes: 32

  encoder:
    depth: 32
    mults: [2, 3, 4, 4]
    hidden_size: 256

  obs_decoder:
    depth: 32
    mults: [2, 3, 4, 4]
    hidden_size: 256

  reward_predictor:
    hidden_size: 256
    num_layers: 2
    num_bins: 255
    min_val: -1000.0
    max_val: 1000.0

  cont_predictor:
    hidden_size: 256
    num_layers: 2

  posterior:
    num_layers: 2
    hidden_size: 256
    stoch_size: 32
    classes: 32
    uniform_frac: 0.01

  prior:
    num_layers: 2
    hidden_size: 256
    stoch_size: 32
    classes: 32
    uniform_frac: 0.01

  actor:
    num_layers: 2
    hidden_size: 256

  critic:
    num_layers: 2
    hidden_size: 256
    num_bins: 255
    min_val: -1000.0
    max_val: 1000.0
